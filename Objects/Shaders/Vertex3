#version 430
precision highp float;

layout(location = 0) in vec3 vertices;
layout(location = 1) in vec2 texcoord;
// layout(location = 2) in vec3 normals;

uniform mat4 project;
uniform mat4 view;
uniform mat4 world;
uniform vec3 light_color;
uniform float angle;

uniform vec2 animation_texcoord;

out vec2 fragment_texcoord;
out vec3 fragment_light_color;

invariant gl_Position;

void main()
{
    gl_Position = vec4(vertices, 1.0) * world * view * project;
    mat2 y_rotation = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
    fragment_texcoord = texcoord * y_rotation;
    fragment_light_color = light_color;
}
